{"version":3,"file":"commonHelpers.js","sources":["../src/cat-api.js","../src/index.js"],"sourcesContent":["import axios from 'axios';\n\naxios.defaults.headers.common['x-api-key'] =\n  'live_6LTEfMyjdtxQAPtuNZNBnNjVQ5gfbd901k2uuyRZdsZ2YqQ5cubh0dPA1jwSPq5F';\n\nexport const fetchBreeds = () => {\n  return axios\n    .get('https://api.thecatapi.com/v1/breeds')\n    .then(response => response.data);\n};\n\nexport const fetchCatByBreed = breedId => {\n  return axios\n    .get(`https://api.thecatapi.com/v1/images/search?breed_ids=${breedId}`)\n    .then(response => response.data);\n};\n","import { fetchBreeds, fetchCatByBreed } from './cat-api';\nimport iziToast from 'izitoast';\nimport 'izitoast/dist/css/iziToast.min.css';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  const breedSelect = document.querySelector('.breed-select');\n  const loader = document.querySelector('.loader');\n  const errorElement = document.querySelector('.error');\n  const catInfo = document.querySelector('.cat-info');\n\n  fetchBreeds()\n    .then(breeds => {\n      breeds.forEach(breed => {\n        const option = document.createElement('option');\n        option.value = breed.id;\n        option.text = breed.name;\n        breedSelect.add(option);\n      });\n\n      loader.style.display = 'none';\n      breedSelect.style.display = 'block';\n    })\n    .catch(error => {\n      errorElement.style.display = 'block';\n      loader.style.display = 'none';\n\n      iziToast.error({\n        title: 'Error',\n        message: 'Unable to upload cat information',\n      });\n    });\n\n  breedSelect.addEventListener('change', () => {\n    const selectedBreedId = breedSelect.value;\n\n    loader.style.display = 'block';\n    errorElement.style.display = 'none';\n\n    catInfo.style.display = 'none';\n\n    fetchCatByBreed(selectedBreedId)\n      .then(catData => {\n        const cat = catData[0];\n\n        catInfo.innerHTML = `\n          <img src=\"${cat.url}\" alt=\"Cat Image\">\n          <p class=\"text\">Breed name: ${cat.breeds[0].name}</p>\n          <p class=\"text\">Description: ${cat.breeds[0].description}</p>\n          <p class=\"text\">Temperament: ${cat.breeds[0].temperament}</p>\n        `;\n\n        catInfo.style.display = 'block';\n      })\n      .catch(error => {\n        errorElement.style.display = 'block';\n\n        iziToast.error({\n          title: 'Error',\n          message: 'Unable to upload cat information',\n        });\n      })\n      .finally(() => {\n        loader.style.display = 'none';\n      });\n  });\n});\n"],"names":["axios","fetchBreeds","response","fetchCatByBreed","breedId","breedSelect","loader","errorElement","catInfo","breeds","breed","option","error","iziToast","selectedBreedId","catData","cat"],"mappings":"6vBAEAA,EAAM,SAAS,QAAQ,OAAO,aAC5B,wEAEK,MAAMC,EAAc,IAClBD,EACJ,IAAI,qCAAqC,EACzC,KAAKE,GAAYA,EAAS,IAAI,EAGtBC,EAAkBC,GACtBJ,EACJ,IAAI,wDAAwDI,GAAS,EACrE,KAAKF,GAAYA,EAAS,IAAI,ECVnC,SAAS,iBAAiB,mBAAoB,IAAM,CAClD,MAAMG,EAAc,SAAS,cAAc,eAAe,EACpDC,EAAS,SAAS,cAAc,SAAS,EACzCC,EAAe,SAAS,cAAc,QAAQ,EAC9CC,EAAU,SAAS,cAAc,WAAW,EAElDP,EAAa,EACV,KAAKQ,GAAU,CACdA,EAAO,QAAQC,GAAS,CACtB,MAAMC,EAAS,SAAS,cAAc,QAAQ,EAC9CA,EAAO,MAAQD,EAAM,GACrBC,EAAO,KAAOD,EAAM,KACpBL,EAAY,IAAIM,CAAM,CAC9B,CAAO,EAEDL,EAAO,MAAM,QAAU,OACvBD,EAAY,MAAM,QAAU,OAClC,CAAK,EACA,MAAMO,GAAS,CACdL,EAAa,MAAM,QAAU,QAC7BD,EAAO,MAAM,QAAU,OAEvBO,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACjB,CAAO,CACP,CAAK,EAEHR,EAAY,iBAAiB,SAAU,IAAM,CAC3C,MAAMS,EAAkBT,EAAY,MAEpCC,EAAO,MAAM,QAAU,QACvBC,EAAa,MAAM,QAAU,OAE7BC,EAAQ,MAAM,QAAU,OAExBL,EAAgBW,CAAe,EAC5B,KAAKC,GAAW,CACf,MAAMC,EAAMD,EAAQ,GAEpBP,EAAQ,UAAY;AAAA,sBACNQ,EAAI;AAAA,wCACcA,EAAI,OAAO,GAAG;AAAA,yCACbA,EAAI,OAAO,GAAG;AAAA,yCACdA,EAAI,OAAO,GAAG;AAAA,UAG/CR,EAAQ,MAAM,QAAU,OAChC,CAAO,EACA,MAAMI,GAAS,CACdL,EAAa,MAAM,QAAU,QAE7BM,EAAS,MAAM,CACb,MAAO,QACP,QAAS,kCACnB,CAAS,CACT,CAAO,EACA,QAAQ,IAAM,CACbP,EAAO,MAAM,QAAU,MAC/B,CAAO,CACP,CAAG,CACH,CAAC"}